<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META NAME="generator" CONTENT="http://txt2tags.sf.net">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="stylesheet" TYPE="text/css" HREF="style.css">
<TITLE>Cadastro de chaves CVS</TITLE>
</HEAD><BODY BGCOLOR="white" TEXT="black">
<P ALIGN="center"><CENTER><H1>Cadastro de chaves CVS</H1>
<FONT SIZE="4">
<I>$Id: CVS_KeyReg_Guide.t2t,v 1.1 2009-04-22 16:36:13 giovani Exp $</I><BR>
</FONT></CENTER>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>
  <UL>
  <LI><A HREF="#toc1">1. Geração das senhas pública e privada com o software Puttygen (módulo do Putty)</A>
  <LI><A HREF="#toc2">2. Configuração de uma sessão no Putty</A>
  <LI><A HREF="#toc3">3. Criação de diretório no home pessoal do usuário no servidor e cópia da senha pública</A>
  <LI><A HREF="#toc4">4. Permissões para o diretório criado e a senha privada</A>
  <LI><A HREF="#toc5">5. Inicialização do software Pageant (módulo do Putty) e adição da senha privada</A>
  </UL>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>
<A NAME="toc1"></A>
<H1>1. Geração das senhas pública e privada com o software Puttygen (módulo do Putty)</H1>
<UL>
<LI>Após rodar o puttygen, clique em generate;
<LI>Mova o mouse por alguns instantes (ele usa essa informação aleatória para gerar as chaves);
<LI>Não é necessário inserir uma senha no campo Key passphrase, fica por opção do usuário;
<LI>Salve a senha pública gerada em um arquivo com o nome “authorized_keys”;
<LI>Salve a senha privada com o nome que desejar, apenas lembre-se o nome/caminho pois ela será
necessária em uma outra etapa. Se não for digitada a Keyphrase, o programa irá pedir se o
usuário deseja gerar uma chave privada sem senha – confirme.
</UL>

<A NAME="toc2"></A>
<H1>2. Configuração de uma sessão no Putty</H1>
<UL>
<LI>Após rodar o putty, ele irá abrir direto no campo Session. Configure os seguintes parâmetros:
Category-&gt;Session:
<LI>Host Name (or IP address): “200.213.13.22” (é o endereço do servidor, sem as aspas);
<LI>Protocol: SSH;
Category-&gt;Connection:
<LI>Auto-login username: “fulano” (novamente, sem as aspas);
Category-&gt;Connection-&gt;SSH-&gt;Auth:
<LI>Attempt TIS or CryptoCard authentication (SSH1): marque essa opção;
<LI>Attempt “keyboard-interactive” authentication (SSH2): marque essa opção;
Category-&gt;Session:
<LI>Saved Session: Digite o nome da conexão que foi criada (“servidor”, por exemplo) e depois em
Save.
</UL>

<A NAME="toc3"></A>
<H1>3. Criação de diretório no home pessoal do usuário no servidor e cópia da senha pública</H1>
<P>
Abra uma sessão do Putty com as configurações do item 2, aparecerá uma janela a qual deve-se
desprezá-la e em seguida entre com a senha do servidor.
Agora crie o diretório “.ssh” com o comando:
</P>
<PRE>
  # [fulano@servidor fulano] $ mkdir .ssh
</PRE>
<P></P>
<P>
A seguir copie a senha pública gerada (arquivo “authorized_keys”) para o diretório “.ssh”, isto pode
ser feito usando o programa WinSCP.
</P>
<A NAME="toc4"></A>
<H1>4. Permissões para o diretório criado e a senha privada</H1>
<P>
O diretório “.ssh” e “fulano” não podem ter permissão de escrita de grupo, visto que geralmente o
diretório do usuário (“fulano”) já possui esta característica, abaixo descrevemos o procedimento para tirar
permissões apenas para o diretório “.ssh”.
Da mesma sessão aberta no item 3 proceda os seguintes comandos:
</P>
<PRE>
  # [fulano@servidor fulano] $ chmod 750 .ssh
  # [fulano@servidor fulano] $ cd .ssh
  # [fulano@servidor .ssh] $ chmod 600 authorized_keys
  # [fulano@servidor .ssh] $ exit
</PRE>
<P></P>
<A NAME="toc5"></A>
<H1>5. Inicialização do software Pageant (módulo do Putty) e adição da senha privada</H1>
<P>
A execução deste programa é necessária para evitar que se digite a senha para conectar-se ao
servidor.
Recomenda-se copiar o link do Pageant para a pasta Inicializar do windows, assim ao ligar o
computador o Pageant será automaticamente executado (ou senão execute-o manualmente).
Ainda assim é necessário (após a inicialização do computador ou execução manual do pageant) clicar
no ícone do pageant (pequeno monitor que surgirá próximo ao relógio do windows – traybar) , adicionar a
chave privada (Add Key) e digitar a senha criada no item 1 (se a chave foi criada com senha).
Agora como teste, abra a sessão servidor do Putty (criada no item 2), se tudo foi devidamente
configurado a sessão será aberta sem a solicitação de senha.
</P>

<!-- html code generated by txt2tags 2.3 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags -\-outfile=CVS_KeyReg_Guide.html CVS_KeyReg_Guide.t2t -->
</BODY></HTML>
