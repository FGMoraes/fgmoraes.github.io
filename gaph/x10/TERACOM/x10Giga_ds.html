<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META NAME="generator" CONTENT="http://txt2tags.sf.net">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="stylesheet" TYPE="text/css" HREF="style.css">
<TITLE>X10GIGA Programmable Logic Datasheet</TITLE>
</HEAD><BODY BGCOLOR="white" TEXT="black">
<P ALIGN="center"><CENTER><H1>X10GIGA Programmable Logic Datasheet</H1>
<FONT SIZE="4">
<I>PD1461</I><BR>
$Id: x10giga_ds.t2t,v 1.7 2008/11/13 20:53:36 bucker Exp $
</FONT></CENTER>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>
  <UL>
  <LI><A HREF="#toc1">1. Introduction</A>
  <LI><A HREF="#toc2">2. Microprocessor Interface</A>
    <UL>
    <LI><A HREF="#toc3">2.1. Register Map</A>
    <LI><A HREF="#E2PROM">2.2. EEPROM (Base = 0x0000)</A>
    <LI><A HREF="#GLOBAL">2.3. Global Registers (Base = 0x0100)</A>
    <LI><A HREF="#GENERAL">2.4. General Purpose Registers (Base = 0x0200)</A>
      <UL>
      <LI><A HREF="#toc7">2.4.1. XFP Status and Initialization</A>
      <LI><A HREF="#toc8">2.4.2. I2C Devices Register Access</A>
      <LI><A HREF="#toc9">2.4.3. Clock Source Selection</A>
      <LI><A HREF="#toc10">2.4.4. PHY Initialization and Status</A>
      <LI><A HREF="#toc11">2.4.5. PHY Register Access</A>
      <LI><A HREF="#toc12">2.4.6. PHY Interface PRBS and Bus Training</A>
      <LI><A HREF="#toc13">2.4.7. Internal Status</A>
      <LI><A HREF="#toc14">2.4.8. GTP Control and Polarity Configuration</A>
      <LI><A HREF="#toc15">2.4.9. GTP Register Access</A>
      <LI><A HREF="#toc16">2.4.10. Software Reset</A>
      <LI><A HREF="#toc17">2.4.11. VCXO Control</A>
      <LI><A HREF="#toc18">2.4.12. Temperature Status</A>
      </UL>
    <LI><A HREF="#OTN_FRAMER">2.5. OTN Framer Register (Base = 0x0300)</A>
    <LI><A HREF="#CLIENT">2.6. Client Interface Registers (Base = 0x0500)</A>
      <UL>
      <LI><A HREF="#toc21">2.6.1. Register Map</A>
      <LI><A HREF="#toc22">2.6.2. Register Description</A>
      </UL>
    <LI><A HREF="#EPLD">2.7. EPLD Registers (Base = 0xD000)</A>
    <LI><A HREF="#FACTORY_TEST">2.8. Factory Test Specific Registers (Base = 0x0F00)</A>
    </UL>
  </UL>

<P></P>
<HR NOSHADE SIZE=1>
<P></P>
<A NAME="toc1"></A>
<H1>1. Introduction</H1>
<A NAME="toc2"></A>
<H1>2. Microprocessor Interface</H1>
<A NAME="toc3"></A>
<H2>2.1. Register Map</H2>
<TABLE ALIGN="center" CELLPADDING="4" BORDER="1">
<TR>
<TH>Base address</TH>
<TH>Register Group</TH>
</TR>
<TR>
<TD ALIGN="center">0x0000</TD>
<TD><A HREF="#E2PROM">E2PROM access registers</A></TD>
</TR>
<TR>
<TD ALIGN="center">0x0100</TD>
<TD><A HREF="#GLOBAL">Global registers</A></TD>
</TR>
<TR>
<TD ALIGN="center">0x0200</TD>
<TD><A HREF="#GENERAL">General purpose registers</A></TD>
</TR>
<TR>
<TD ALIGN="center">0x0300</TD>
<TD><A HREF="#OTN_FRAMER">OTN framer registers</A></TD>
</TR>
<TR>
<TD ALIGN="center">0x0500</TD>
<TD><A HREF="#CLIENT">Client interface registers</A></TD>
</TR>
<TR>
<TD ALIGN="center">0xD000</TD>
<TD><A HREF="#EPLD">EPLD interface registers</A></TD>
</TR>
<TR>
<TD ALIGN="center">0x0F00</TD>
<TD><A HREF="#FACTORY_TEST">Factory test specific registers</A></TD>
</TR>
</TABLE>

<P></P>
<A NAME="E2PROM"></A>
<H2>2.2. EEPROM (Base = 0x0000)</H2>
<P>
A range of offsets is reserved for E2PROM access. The behaviour of the registers inside this range is described in DM800 Interface Card
Common Datasheet, located at "dmprojetos/PD14/PD1400 - 860 Shelf &amp; Accessories/DocProjeto/LogicaProgramavel"
</P>
<A NAME="GLOBAL"></A>
<H2>2.3. Global Registers (Base = 0x0100)</H2>
<P>
Global registers are common to all DM800 interface cards. Detailed description can be found at
"dmprojetos/PD14/PD1400 - 860 Shelf &amp; Accessories/DocProjeto/LogicaProgramavel"
</P>
<P>
The CHIP_ID value is 0x79.
</P>
<A NAME="GENERAL"></A>
<H2>2.4. General Purpose Registers (Base = 0x0200)</H2>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Offset</TH>
<TH>Register Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">0x00</TD>
<TD ALIGN="center"><A HREF="#XFP_INIT">XFP_INIT</A></TD>
<TD>XFP Initialization</TD>
</TR>
<TR>
<TD ALIGN="center">0x01</TD>
<TD ALIGN="center"><A HREF="#LINE_XFP_STS">LINE_XFP_STS</A></TD>
<TD>Line XFP Status</TD>
</TR>
<TR>
<TD ALIGN="center">0x02</TD>
<TD ALIGN="center"><A HREF="#CLIENT_XFP_STS">CLIENT_XFP_STS</A></TD>
<TD>Line XFP Status</TD>
</TR>
<TR>
<TD ALIGN="center">0x03</TD>
<TD ALIGN="center"><A HREF="#I2C_CTRL">I2C_CTRL</A></TD>
<TD>XFP serial interface control</TD>
</TR>
<TR>
<TD ALIGN="center">0x04</TD>
<TD ALIGN="center"><A HREF="#I2C_ADDR">I2C_ADDR</A></TD>
<TD>I2C address</TD>
</TR>
<TR>
<TD ALIGN="center">0x05</TD>
<TD ALIGN="center"><A HREF="#I2C_DATA">I2C_DATA</A></TD>
<TD>I2C data</TD>
</TR>
<TR>
<TD ALIGN="center">0x0E</TD>
<TD ALIGN="center"><A HREF="#SETG_REFCLK_SEL">SETG_REFCLK_SEL</A></TD>
<TD>T0 Reference Selection</TD>
</TR>
<TR>
<TD ALIGN="center">0x0F</TD>
<TD ALIGN="center"><A HREF="#EXT_CLKOUT_SEL">EXT_CLKOUT_SEL</A></TD>
<TD>T4 Reference Selection</TD>
</TR>
<TR>
<TD ALIGN="center">0x10</TD>
<TD ALIGN="center"><A HREF="#PHY_INIT">PHY_INIT</A></TD>
<TD>PHY initialization</TD>
</TR>
<TR>
<TD ALIGN="center">0x11</TD>
<TD ALIGN="center"><A HREF="#PHY_STS">PHY_STS</A></TD>
<TD>PHY Status</TD>
</TR>
<TR>
<TD ALIGN="center">0x12</TD>
<TD ALIGN="center"><A HREF="#PHY_DEV_ADDR">PHY_DEV_ADDR</A></TD>
<TD>PHY device address</TD>
</TR>
<TR>
<TD ALIGN="center">0x13</TD>
<TD ALIGN="center"><A HREF="#PHY_MII_CTRL">PHY_MII_CTRL</A></TD>
<TD>PHY MII Control</TD>
</TR>
<TR>
<TD ALIGN="center">0x14</TD>
<TD ALIGN="center"><A HREF="#PHY_REG_ADDR">PHY_REG_ADDR</A></TD>
<TD>PHY register address</TD>
</TR>
<TR>
<TD ALIGN="center">0x15</TD>
<TD ALIGN="center"><A HREF="#PHY_REG_DATA">PHY_REG_DATA</A></TD>
<TD>PHY data register</TD>
</TR>
<TR>
<TD ALIGN="center">0x16</TD>
<TD ALIGN="center"><A HREF="#PHY_PRBS_CFG">PHY_PRBS_CFG</A></TD>
<TD>PHY PRBS Configuration</TD>
</TR>
<TR>
<TD ALIGN="center">0x17</TD>
<TD ALIGN="center"><A HREF="#PHY_PRBS_STS">PHY_PRBS_STS</A></TD>
<TD>PHY PRBS Status</TD>
</TR>
<TR>
<TD ALIGN="center">0x18</TD>
<TD ALIGN="center"><A HREF="#LINE_DCM_PS_CTRL">LINE_DCM_PS_CTRL</A></TD>
<TD>Line PHY DCM phase shifting control</TD>
</TR>
<TR>
<TD ALIGN="center">0x19</TD>
<TD ALIGN="center"><A HREF="#CLIENT_DCM_PS_CTRL">CLIENT_DCM_PS_CTRL</A></TD>
<TD>Client PHY DCM phase shifting control</TD>
</TR>
<TR>
<TD ALIGN="center">0x1A</TD>
<TD ALIGN="center"><A HREF="#LINE_TXDCM_STS">LINE_TXDCM_STS</A></TD>
<TD>Line Tx training DCM status</TD>
</TR>
<TR>
<TD ALIGN="center">0x1B</TD>
<TD ALIGN="center"><A HREF="#LINE_TXDCM_TAP">LINE_TXDCM_TAP_HI</A></TD>
<TD>Line Tx DCM Phase Shift Tap (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x1C</TD>
<TD ALIGN="center"><A HREF="#LINE_TXDCM_TAP">LINE_TXDCM_TAP_LO</A></TD>
<TD>Line Tx DCM Phase Shift Tap (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x1D</TD>
<TD ALIGN="center"><A HREF="#LINE_RXDCM_STS">LINE_RXDCM_STS</A></TD>
<TD>Line Rx training DCM status</TD>
</TR>
<TR>
<TD ALIGN="center">0x1E</TD>
<TD ALIGN="center"><A HREF="#LINE_RXDCM_TAP">LINE_RXDCM_TAP_HI</A></TD>
<TD>Line Rx training DCM tap (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x1F</TD>
<TD ALIGN="center"><A HREF="#LINE_RXDCM_TAP">LINE_RXDCM_TAP_LO</A></TD>
<TD>Line Rx training DCM tap (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x20</TD>
<TD ALIGN="center"><A HREF="#CLIENT_TXDCM_STS">CLIENT_TXDCM_STS</A></TD>
<TD>Line Tx training DCM status</TD>
</TR>
<TR>
<TD ALIGN="center">0x21</TD>
<TD ALIGN="right"><A HREF="#CLIENT_TXDCM_TAP">CLIENT_TXDCM_TAP_HI</A></TD>
<TD>Line Line Tx DCM Phase Shift Tap (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x22</TD>
<TD ALIGN="right"><A HREF="#CLIENT_TXDCM_TAP">CLIENT_TXDCM_TAP_LO</A></TD>
<TD>Line Line Tx DCM Phase Shift Tap (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x23</TD>
<TD ALIGN="center"><A HREF="#CLIENT_RXDCM_STS">CLIENT_RXDCM_STS</A></TD>
<TD>Line Rx training DCM status</TD>
</TR>
<TR>
<TD ALIGN="center">0x24</TD>
<TD ALIGN="right"><A HREF="#CLIENT_RXDCM_TAP">CLIENT_RXDCM_TAP_HI</A></TD>
<TD>Line Rx training DCM tap (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x25</TD>
<TD ALIGN="right"><A HREF="#CLIENT_RXDCM_TAP">CLIENT_RXDCM_TAP_LO</A></TD>
<TD>Line Rx training DCM tap (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x2F</TD>
<TD ALIGN="center"><A HREF="#DCM_LOCK_STS">DCM_LOCK_STS</A></TD>
<TD>DCM Lock status</TD>
</TR>
<TR>
<TD ALIGN="center">0x30</TD>
<TD ALIGN="center"><A HREF="#GTP_CFG_CTRL">GTP_CFG_CTRL</A></TD>
<TD>GTP DUAL configuration control</TD>
</TR>
<TR>
<TD ALIGN="center">0x31</TD>
<TD ALIGN="center"><A HREF="#GTP_CFG_ADDR">GTP_CFG_ADDR</A></TD>
<TD>GTP DUAL configuration address</TD>
</TR>
<TR>
<TD ALIGN="center">0x32</TD>
<TD ALIGN="center"><A HREF="#GTP_CFG_DATA_HI">GTP_CFG_DATA_HI</A></TD>
<TD>GTP DUAL configuration data (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x33</TD>
<TD ALIGN="center"><A HREF="#GTP_CFG_DATA_LO">GTP_CFG_DATA_LO</A></TD>
<TD>GTP DUAL configuration data (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x34</TD>
<TD ALIGN="center"><A HREF="#GTP_CFG_STS">GTP_CFG_STS</A></TD>
<TD>GTP DUAL configuration status</TD>
</TR>
<TR>
<TD ALIGN="center">0x35</TD>
<TD ALIGN="center"><A HREF="#GTP_PTR">GTP_PTR</A></TD>
<TD>GTP transceiver pointer</TD>
</TR>
<TR>
<TD ALIGN="center">0x36</TD>
<TD ALIGN="center"><A HREF="#GTP_RST">GTP_RST</A></TD>
<TD>GTP transceiver reset</TD>
</TR>
<TR>
<TD ALIGN="center">0x3C</TD>
<TD ALIGN="center"><A HREF="#GTP_STS">GTP_STS</A></TD>
<TD>GTP transceiver status</TD>
</TR>
<TR>
<TD ALIGN="center">0x37</TD>
<TD ALIGN="center"><A HREF="#GTP_POLARITY">GTP_POLARITY</A></TD>
<TD>GTP transceiver polarity configuration</TD>
</TR>
<TR>
<TD ALIGN="center">0x38</TD>
<TD ALIGN="center"><A HREF="#GTP_LOOP_CTRL">GTP_LOOP_CTRL</A></TD>
<TD>GTP transceiver loopback control</TD>
</TR>
<TR>
<TD ALIGN="center">0x39</TD>
<TD ALIGN="center"><A HREF="#GTP_CTRL">GTP_CTRL</A></TD>
<TD>GTP transceiver Control</TD>
</TR>
<TR>
<TD ALIGN="center">0x3A</TD>
<TD ALIGN="center"><A HREF="#GTP_CNTHI_ERR">GTP_CNTHI_ERR</A></TD>
<TD>GTP transceiver BERT error counter (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x3B</TD>
<TD ALIGN="center"><A HREF="#GTP_CNTLO_ERR">GTP_CNTLO_ERR</A></TD>
<TD>GTP transceiver BERT error counter (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x3F</TD>
<TD ALIGN="center"><A HREF="#SW_RST">SW_RST</A></TD>
<TD>Software reset</TD>
</TR>
<TR>
<TD ALIGN="center">0x40</TD>
<TD ALIGN="center"><A HREF="#VCXO_SEL">VCXO_SEL</A></TD>
<TD>VCXO selection</TD>
</TR>
<TR>
<TD ALIGN="center">0x41</TD>
<TD ALIGN="center"><A HREF="#VCXO_CFG">VCXO_CFG</A></TD>
<TD>VCXO configuration</TD>
</TR>
<TR>
<TD ALIGN="center">0x42</TD>
<TD ALIGN="center"><A HREF="#VCXO_STS">VCXO_STS</A></TD>
<TD>VCXO status</TD>
</TR>
<TR>
<TD ALIGN="center">0x43</TD>
<TD ALIGN="center"><A HREF="#VCXO_CALIB_DATA">VCXO_CALIB_HDATA</A></TD>
<TD>VCXO calibration data (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x44</TD>
<TD ALIGN="center"><A HREF="#VCXO_CALIB_DATA">VCXO_CALIB_LDATA</A></TD>
<TD>VCXO calibration data (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x45</TD>
<TD ALIGN="center"><A HREF="#DAC_VAL_DATA">DAC_VAL_HDATA</A></TD>
<TD>DAC value (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x46</TD>
<TD ALIGN="center"><A HREF="#DAC_VAL_DATA">DAC_VAL_LDATA</A></TD>
<TD>DAC value (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x80</TD>
<TD ALIGN="center"><A HREF="#FPGA_TEMP_MSB">FPGA_TEMP_MSB</A></TD>
<TD>FPGA temperature (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x81</TD>
<TD ALIGN="center"><A HREF="#FPGA_TEMP_LSB">FPGA_TEMP_LSB</A></TD>
<TD>FPGA temperature (LSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x90</TD>
<TD ALIGN="center"><A HREF="#PHY_TEMP_MSB">PHY_TEMP_MSB</A></TD>
<TD>PHY temperature (MSB)</TD>
</TR>
<TR>
<TD ALIGN="center">0x91</TD>
<TD ALIGN="center"><A HREF="#PHY_TEMP_LSB">PHY_TEMP_LSB</A></TD>
<TD>PHY temperature (LSB)</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc7"></A>
<H3>2.4.1. XFP Status and Initialization</H3>
<A NAME="XFP_INIT"></A>
<H4>2.4.1.1. XFP_INIT - XFP Initialization (0x00)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>Type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..2</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">CLIENT_PDOWN/RST</TD>
<TD>Client XFP Reset and power down: <br> 0 – Normal operation <br> 1 – Powerdown <br> (A falling edge of this register causes the XFP to be reset)</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">LINE_PDOWN/RST</TD>
<TD>Line XFP Reset and power down: <br> 0 – Normal operation <br> 1 – Powerdown <br> (A falling edge of this register causes the XFP to be reset)</TD>
</TR>
</TABLE>

<P></P>
<A NAME="LINE_XFP_STS"></A>
<H4>2.4.1.2. LINE_XFP_STS - Line XFP Status (0x01)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>Type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..5</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LASER_ON</TD>
<TD>ALS status (non-latched): <br> 0 – Laser off <br> 1 – Laser on <br></TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LOS</TD>
<TD>Loss of signal <br> 1 - Signal absent (latched) <br> 0 - Signal present</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">NINTERRUPT</TD>
<TD>Active low interrupt (fail or critial alarm): <br> 1 - No integrrupt <br> 0 - interrupt (latched)</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">MOD_NR</TD>
<TD>Module not ready. Indicates a XFP fail condition. <br> 1 - Fail (latched) <br> 0 - Normal operation</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">MOD_ABS</TD>
<TD>XFP module presence indication: <br> 1 - Module present <br> 0 - Module absent (latched)</TD>
</TR>
</TABLE>

<P></P>
<A NAME="CLIENT_XFP_STS"></A>
<H4>2.4.1.3. CLIENT_XFP_STS - Client XFP Status (0x02)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>Type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..5</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LASER_ON</TD>
<TD>ALS status (non-latched): <br> 0 – Laser off <br> 1 – Laser on <br></TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LOS</TD>
<TD>Loss of signal <br> 1 - Signal absent (latched) <br> 0 - Signal present</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">NINTERRUPT</TD>
<TD>Active low interrupt (fail or critial alarm): <br> 1 - No integrrupt <br> 0 - interrupt (latched)</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">MOD_NR</TD>
<TD>Module not ready. Indicates a XFP fail condition. <br> 1 - Fail (latched) <br> 0 - Normal operation</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">MOD_ABS</TD>
<TD>XFP module presence indication: <br> 1 - Module present <br> 0 - Module absent (latched)</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc8"></A>
<H3>2.4.2. I2C Devices Register Access</H3>
<P>
The XFP modules and the AnyRate VCXOs have internal registers which are accessible through an I2C bus controlled by the FPGA.
The microprocessor can perform I2C read and write operations using FPGA registers <A HREF="#I2C_ADDR">I2C_ADDR</A>, <A HREF="#I2C_DATA">I2C_DATA</A> and <A HREF="#I2C_CTRL">I2C_CTRL</A>.
The read and write procedures are described in fluxograms below. Writing <A HREF="#I2C_CTRL">I2C_CTRL</A> causes the requested operation to be initiated.
</P>
<P>
<B>Read Procedure:</B>
</P>
  <center><IMG ALIGN="middle" SRC="figures/xfp_read.png" BORDER="0" ALT=""></center>  
<P>
<B>Write Procedure:</B>  
</P>
  <center><IMG ALIGN="middle" SRC="figures/xfp_write.png" BORDER="0" ALT=""></center>  
<P>
For detailed information on XFP internal registers, please refer to the SFF Commitee's INF-8077i document (10 Gigabit Small Form Factor
Pluggable Module).
</P>
<P>
For information on the AnyRate VCXO programming, please refer to SiLabs' <A HREF="references/si570_anyrate.pdf">Si571 device datasheet</A>.
</P>
<A NAME="I2C_CTRL"></A>
<H4>2.4.2.1. I2C_CTRL - I2C Control (0x03)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..4</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DEV_SEL</TD>
<TD>I2C device selection: <br> 0 - Line XFP <br> 1 - Client XFP <br> 2 - PHY1 (Line) Tx VCXO <br> 3 - PHY2 (Client) Tx VCXO <br> 4 - SFP1 Tx VCXO <br> 5 - SFP2 Tx VCXO <br> 6 - SFP3 Tx VCXO <br> 7 - SFP4 Tx VCXO <br> 8 - SFP5 Tx VCXO <br> 9 - ICBUS Tx VCXO <br> 11..15 - Invalid</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">ERROR</TD>
<TD>Falha na comunicação I2C: <br> 1 - Erro <br> 0 - Ok</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">BUSY</TD>
<TD>Interface status: <br> 1 - Busy <br> 0 - Idle</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">OPERATION</TD>
<TD>Operation: <br> 1 - Write <br> 0 - Read</TD>
</TR>
</TABLE>

<P></P>
<A NAME="I2C_ADDR"></A>
<H4>2.4.2.2. I2C_ADDR - I2C Address (0x04)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">I2C_ADDR</TD>
<TD>I2C register address</TD>
</TR>
</TABLE>

<P></P>
<A NAME="I2C_DATA"></A>
<H4>2.4.2.3. I2C_DATA - I2C Data (0x05)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">I2C_DATA</TD>
<TD>I2C read/write data</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc9"></A>
<H3>2.4.3. Clock Source Selection</H3>
<A NAME="SETG_REFCLK_SEL"></A>
<H4>2.4.3.1. SETG_REFCLK_SEL – MPU SETG Reference Clock Selection (0x0E)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..1</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">CLK_SEL</TD>
<TD>Selects the clock reference to be sent to MPU's T0 clock generator: <br> 0 - Client Rx Clock <br> 1 -  Line Rx Clock</TD>
</TR>
</TABLE>

<P></P>
<A NAME="EXT_CLKOUT_SEL"></A>
<H4>2.4.3.2. EXT_CLKOUT_SEL – MPU External Clock Output Reference Selection (0x0F)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..1</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">CLK_SEL</TD>
<TD>Selects the clock reference to be sent to MPU's T4 clock generator: <br> 0 - Client Rx Clock <br> 1 -  Line Rx Clock</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc10"></A>
<H3>2.4.4. PHY Initialization and Status</H3>
<A NAME="PHY_INIT"></A>
<H4>2.4.4.1. PHY_INIT - PHY Initialization (0x10)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..4</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DCM2_RESET</TD>
<TD>PHY2 (Client) DCM reset. Must be asserted for at least 200ms.</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">PHY2_RESET</TD>
<TD>PHY2 (Client) reset. Must be asserted for at least 100ns.</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DCM1_RESET</TD>
<TD>PHY1 (Line) DCM reset. Must be asserted for at least 200ms.</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">PHY1_RESET</TD>
<TD>PHY1 (Line) reset. Must be asserted for at least 100ns.</TD>
</TR>
</TABLE>

<P></P>
<TABLE ALIGN="center" CELLPADDING="4" BORDER="1">
<TR>
<TD>Note: The DCM must allways be reset after PHY reset</TD>
</TR>
</TABLE>

<P></P>
<A NAME="PHY_STS"></A>
<H4>2.4.4.2. PHY_STS - PHY Status (0x11)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..6</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">5</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PHY2_TX_LOCKDET</TD>
<TD>PHY2 (Client) Transmit lock detect (CSU_REFCLK).</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PHY2_RX_LOCKDET</TD>
<TD>PHY2 (Client) Receive lock detect.</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PHY2_TXRX_ALARM</TD>
<TD>PHY2 (Client) Transmit or Receive Alarm.</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PHY1_TX_LOCKDET</TD>
<TD>PHY1 (Line) Transmit lock detect (CSU_REFCLK).</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PHY1_RX_LOCKDET</TD>
<TD>PHY1 (Line) Receive lock detect.</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PHY1_TXRX_ALARM</TD>
<TD>PHY1 (Line) Transmit or Receive Alarm.</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc11"></A>
<H3>2.4.5. PHY Register Access</H3>
<P>
The client and line PHYs have internal registers which are accessible through an MII interface controlled by the FPGA.
The microprocessor can perform MII read and write operations using FPGA registers <A HREF="#PHY_DEV_ADDR">PHY_DEV_ADDR</A>, <A HREF="#PHY_REG_ADDR">PHY_REG_ADDR</A>, <A HREF="#PHY_REG_DATA">PHY_REG_DATA</A> and
<A HREF="#PHY_MII_CTRL">PHY_MII_CTRL</A>. The read and write procedures are described in fluxograms below. Writing <A HREF="#PHY_MII_CTRL">PHY_MII_CTRL</A> causes the requested
operation to be initiated.
</P>
<P>
<B>Read Procedure:</B>
</P>
  <center><IMG ALIGN="middle" SRC="figures/xfp_read.png" BORDER="0" ALT=""></center>  
<P>
<B>Write Procedure:</B>  
</P>
  <center><IMG ALIGN="middle" SRC="figures/xfp_write.png" BORDER="0" ALT=""></center> 
<A NAME="PHY_DEV_ADDR"></A>
<H4>2.4.5.1. PHY_DEV_ADDR - PHY Selection and MII device address (0x12)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..6</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">5</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">PHY_SEL</TD>
<TD>PHY Chip selection: <br> 0 - PHY1 (Line) <br> 1 - PHY2 (Client)</TD>
</TR>
<TR>
<TD ALIGN="center">4..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DEV_ADDR</TD>
<TD>MII Device Address</TD>
</TR>
</TABLE>

<P></P>
<A NAME="PHY_MII_CTRL"></A>
<H4>2.4.5.2. PHY_MII_CTRL - PHY MII Control (0x13)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..2</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">BUSY</TD>
<TD>MII interface status: <br> 1 - Busy <br> 0 -  Available</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">OPERATION</TD>
<TD>MII operation: <br> 1 - Write <br> 0 - Read</TD>
</TR>
</TABLE>

<P></P>
<A NAME="PHY_REG_ADDR"></A>
<H4>2.4.5.3. PHY_REG_ADDR - PHY Register address (0x14)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">REG_ADDR</TD>
<TD>PHY Register address</TD>
</TR>
</TABLE>

<P></P>
<A NAME="PHY_REG_DATA"></A>
<H4>2.4.5.4. PHY_REG_DATA - PHY Register Data (0x15)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DATA</TD>
<TD>Dado leitura/escrita PHY.</TD>
</TR>
</TABLE>

<P></P>
<P>
For detailed information on PHY internal registers, please refer to the AMCC S19237 datasheet (Note: due to NDA restrictions DATACOM
cannot release this datasheet for third parties).
</P>
<A NAME="toc12"></A>
<H3>2.4.6. PHY Interface PRBS and Bus Training</H3>
<A NAME="PHY_PRBS_CFG"></A>
<H4>2.4.6.1. PHY_PRBS_CFG - PHY Psendo-random Bit Sequence (PRBS) Configuration (0x16)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..4</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">LINE_PRBS_ERRADD</TD>
<TD>Writing '1' and then '0' to this bit causes a single bit error to be added into the line PRBS</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">LINE_PRBS_EN</TD>
<TD>Enables transmission of 2^23 - 1 PRBS to the Line PHY</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="right">CLIENT_PRBS_ERRADD</TD>
<TD>Writing '1' and then '0' to this bit causes a single bit error to be added into the client PRBS</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">CLIENT_PRBS_EN</TD>
<TD>Enables transmission of 2^23 - 1 PRBS to the Client PHY</TD>
</TR>
</TABLE>

<P></P>
<A NAME="PHY_PRBS_STS"></A>
<H4>2.4.6.2. PHY_PRBS_STS - PHY PRBS Status (0x17)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..2</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">CLIENT_PRBS_ERR</TD>
<TD>Client PRBS error</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LINE_PRBS_ERR</TD>
<TD>Line PRBS error</TD>
</TR>
</TABLE>

<P></P>
<A NAME="LINE_DCM_PS_CTRL"></A>
<H4>2.4.6.3. LINE_DCM_PS_CTRL - Line Interface DCM Phase Shift Control (0x18)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">DONE_RX</TD>
<TD>Rx DCM phase shift operation status: <br> 0 - In progress <br> 1 - Done</TD>
</TR>
<TR>
<TD ALIGN="center">6</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DEC_RX</TD>
<TD>Rx DCM phase shift decrement: writing a '1' to this bit causes the phase shift to be decremented by 1 tap</TD>
</TR>
<TR>
<TD ALIGN="center">5</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">INC_RX</TD>
<TD>Rx DCM phase shift increment: writing a '1' to this bit causes the phase shift do be incremented by 1 tap</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">RESET_RX</TD>
<TD>Rx DCM reset: in order to properly reset the DCM, this but must be set to '1' for at least 200ms</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">DONE_TX</TD>
<TD>Tx DCM phase shift operation status: <br> 0 - In progress <br> 1 - Done</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DEC_TX</TD>
<TD>Tx DCM phase shift decrement: writing a '1' to this bit causes the phase shift to be decremented by 1 tap</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">INC_TX</TD>
<TD>Tx DCM phase shift increment: writing a '1' to this bit causes the phase shift do be incremented by 1 tap</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">RESET_TX</TD>
<TD>Tx DCM reset: in order to properly reset the DCM, this but must be set to '1' for at least 200ms</TD>
</TR>
</TABLE>

<P></P>
<A NAME="CLIENT_DCM_PS_CTRL"></A>
<H4>2.4.6.4. CLIENT_DCM_PS_CTRL - Client Interface DCM Phase Shift Control (0x19)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">DONE_RX</TD>
<TD>Rx DCM phase shift operation status: <br> 0 - In progress <br> 1 - Done</TD>
</TR>
<TR>
<TD ALIGN="center">6</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DEC_RX</TD>
<TD>Rx DCM phase shift decrement: writing a '1' to this bit causes the phase shift to be decremented by 1 tap</TD>
</TR>
<TR>
<TD ALIGN="center">5</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">INC_RX</TD>
<TD>Rx DCM phase shift increment: writing a '1' to this bit causes the phase shift do be incremented by 1 tap</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">RESET_RX</TD>
<TD>Rx DCM reset: in order to properly reset the DCM, this but must be set to '1' for at least 200ms</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">DONE_TX</TD>
<TD>Tx DCM phase shift operation status: <br> 0 - In progress <br> 1 - Done</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DEC_TX</TD>
<TD>Tx DCM phase shift decrement: writing a '1' to this bit causes the phase shift to be decremented by 1 tap</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">INC_TX</TD>
<TD>Tx DCM phase shift increment: writing a '1' to this bit causes the phase shift do be incremented by 1 tap</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">RESET_TX</TD>
<TD>Tx DCM reset: in order to properly reset the DCM, this but must be set to '1' for at least 200ms</TD>
</TR>
</TABLE>

<P></P>
<TABLE ALIGN="center" CELLPADDING="4" BORDER="1">
<TR>
<TD>Note: the DCM lock status is available via register <A HREF="#DCM_STS">DCM_STS</A></TD>
</TR>
</TABLE>

<P></P>
<A NAME="LINE_TXDCM_STS"></A>
<H4>2.4.6.5. LINE_TXDCM_STS - Line Tx DCM Status (0x1A)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">-</TD>
<TD></TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">6</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSUN</TD>
<TD>Phase shift underflow</TD>
</TR>
<TR>
<TD ALIGN="center">5</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSOV</TD>
<TD>Phase shift overflow</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSVIOL</TD>
<TD>Phase shift violation</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSDONE</TD>
<TD>Phase shift done</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSEN</TD>
<TD>Enable phase shift</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">RST</TD>
<TD>Reset</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LOCK</TD>
<TD>Status lock</TD>
</TR>
</TABLE>

<P></P>
<A NAME="LINE_TXDCM_TAP"></A>
<H4>2.4.6.6. LINE_TXDCM_TAP_HI/LINE_TXDCM_TAP_LO - Line Tx DCM Tap (0x1B/0x1C)</H4>
<P>
These register report the current DCM phase shift Tap.
</P>
<P>
<B>Offset 0x1B:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..1</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="right">TAP_CNT[8]</TD>
<TD>Contador de TAPs do DCM training Tx.</TD>
</TR>
</TABLE>

<P></P>
<P>
<B>Offset 0x1C:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TAP_CNT[7..0]</TD>
<TD>Contador de TAPs do DCM training Tx.</TD>
</TR>
</TABLE>

<P></P>
<A NAME="LINE_RXDCM_STS"></A>
<H4>2.4.6.7. LINE_RXDCM_STS - Line Rx DCM Status (0x1D)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">-</TD>
<TD></TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">6</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSUN</TD>
<TD>Phase shift underflow</TD>
</TR>
<TR>
<TD ALIGN="center">5</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSOV</TD>
<TD>Phase shift overflow</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSVIOL</TD>
<TD>Phase shift violation</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSDONE</TD>
<TD>Phase shift done</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSEN</TD>
<TD>Enable phase shift</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">RST</TD>
<TD>Reset</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LOCK</TD>
<TD>Status lock</TD>
</TR>
</TABLE>

<P></P>
<A NAME="LINE_RXDCM_TAP"></A>
<H4>2.4.6.8. LINE_RXDCM_TAP_HI/LINE_RXDCM_TAP_LO - Line Rx DCM TAP (0x1E/0x1F)</H4>
<P>
These register report the current DCM phase shift Tap.
</P>
<P>
<B>Offset 0x1E:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..1</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="right">TAP_CNT[8]</TD>
<TD>Contador de TAPs do DCM training Rx.</TD>
</TR>
</TABLE>

<P></P>
<P>
<B>Offset 0x1F:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TAP_CNT[7..0]</TD>
<TD>Contador de TAPs do DCM training Rx.</TD>
</TR>
</TABLE>

<P></P>
<A NAME="CLIENT_TXDCM_STS"></A>
<H4>2.4.6.9. CLIENT_TXDCM_STS - Client Tx DCM Status (0x20)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">-</TD>
<TD></TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">6</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSUN</TD>
<TD>Phase shift underflow</TD>
</TR>
<TR>
<TD ALIGN="center">5</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSOV</TD>
<TD>Phase shift overflow</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSVIOL</TD>
<TD>Phase shift violation</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSDONE</TD>
<TD>Phase shift done</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSEN</TD>
<TD>Enable phase shift</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">RST</TD>
<TD>Reset</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LOCK</TD>
<TD>Status lock</TD>
</TR>
</TABLE>

<P></P>
<A NAME="CLIENT_TXDCM_TAP"></A>
<H4>2.4.6.10. CLIENT_TXDCM_TAP_HI/CLIENT_TXDCM_TAP_LO - Client Tx DCM Tap (0x21/0x22)</H4>
<P>
These register report the current DCM phase shift Tap.
</P>
<P>
<B>Offset 0x21:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..1</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="right">TAP_CNT[8]</TD>
<TD>Contador de TAPs do DCM training Tx.</TD>
</TR>
</TABLE>

<P></P>
<P>
<B>Offset 0x22:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TAP_CNT[7..0]</TD>
<TD>Contador de TAPs do DCM training Tx.</TD>
</TR>
</TABLE>

<P></P>
<A NAME="CLIENT_RXDCM_STS"></A>
<H4>2.4.6.11. CLIENT_RXDCM_STS - Client Rx DCM Status (0x23)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">-</TD>
<TD></TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">6</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSUN</TD>
<TD>Phase shift underflow</TD>
</TR>
<TR>
<TD ALIGN="center">5</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSOV</TD>
<TD>Phase shift overflow</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSVIOL</TD>
<TD>Phase shift violation</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSDONE</TD>
<TD>Phase shift done</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PSEN</TD>
<TD>Enable phase shift</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">RST</TD>
<TD>Reset</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LOCK</TD>
<TD>Status lock</TD>
</TR>
</TABLE>

<P></P>
<A NAME="CLIENT_RXDCM_TAP"></A>
<H4>2.4.6.12. CLIENT_RXDCM_TAP_HI/CLIENT_RXDCM_TAP_LO - Client Rx DCM TAP (0x24/0x25)</H4>
<P>
These register report the current DCM phase shift Tap.
</P>
<P>
<B>Offset 0x24:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..1</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="right">TAP_CNT[8]</TD>
<TD>Contador de TAPs do DCM training Rx.</TD>
</TR>
</TABLE>

<P></P>
<P>
<B>Offset 0x25:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TAP_CNT[7..0]</TD>
<TD>Contador de TAPs do DCM training Rx.</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc13"></A>
<H3>2.4.7. Internal Status</H3>
<A NAME="DCM_LOCK_STS"></A>
<H4>2.4.7.1. DCM_LOCK_STS – DCM Lock Status (0x2F)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">DCM_LOCK</TD>
<TD>DCM lock status: <br> 0 – Unlocked <br> 1 – Locked</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc14"></A>
<H3>2.4.8. GTP Control and Polarity Configuration</H3>
<A NAME="GTP_PTR"></A>
<H4>2.4.8.1. GTP_PTR - GTP Transceiver Pointer (0x35)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..6</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">5..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">GTP_ADDR</TD>
<TD>Selects a GTP transceiver</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_RST"></A>
<H4>2.4.8.2. GTP_RST - Multi Gigabit Transceiver Reset (0x36)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..4</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">RX_BUFF_RST</TD>
<TD>Reset do buffer de recepção do GTP: <br> 0 - Desabilitado <br> 1 - Habilitado</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">TX_PCS_RESET</TD>
<TD>Reset da transmissão: <br> 0 - Desabilitado <br> 1 - Habilitado</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">RX_PCS_RESET</TD>
<TD>Reset da recepção: <br> 0 - Desabilitado <br> 1 - Habilitado</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">GTP_DUAL_RST</TD>
<TD>Reset GTP DUAL tile: <br> 0 - Desabilitado <br> 1 - Habilitado</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_STS"></A>
<H4>2.4.8.3. GTP_STS - Multi Gigabit Tranceiver Status (0x3C)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..4</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TX_BUFF_ERROR</TD>
<TD>Tx buffer overflow/underflow</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">RX_BUFF_ERROR</TD>
<TD>Rx buffer overflow/underflow</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">RST_DONE</TD>
<TD>Reset done</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">PLL LOCK</TD>
<TD>Shared PLL lock</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_POLARITY"></A>
<H4>2.4.8.4. GTP_POLARITY - Multi Gigabit Transceiver Polarity (0x37)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..2</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">GTP_TXPOLARITY</TD>
<TD>Seleciona polaridade de Tx do GTP: <br> 0 - Não inverte <br> 1 - Inverte</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">GTP_RXPOLARITY</TD>
<TD>Seleciona polaridade de Rx do GTP: <br> 0 - Não inverte <br> 1 - Inverte</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_LOOP_CTRL"></A>
<H4>2.4.8.5. GTP_LOOP_CTRL - Multi Gigabit Transceiver Loop Control (0x38)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..2</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">SER_LOOP_EN</TD>
<TD>Habilita back-end loop serial: <br> 0 - Desabilitado <br> 1 - Habilitado</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">PAR_LOOP_EN</TD>
<TD>Habilita back-end loop paralelo: <br> 0 - Desabilitado <br> 1 - Habilitado</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_CTRL"></A>
<H4>2.4.8.6. GTP_CTRL - Multi Gigabit Transceiver Config (0x39)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..4</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">BERT_ERR_CLR</TD>
<TD>Limpa erro de BERT do GTP selecionado</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">BERT_ERR_INS</TD>
<TD>Insere erro de BERT no GTP selecionado</TD>
</TR>
<TR>
<TD ALIGN="center">1</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">SEND_BERT</TD>
<TD>Habilita envio de BERT ao GTP selecionado</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">SEND_COMMA</TD>
<TD>Envia padrão de alinhamento de byte para o GTP selecionado</TD>
</TR>
</TABLE>

<P></P>
<P>
<B>IMPORTANTE:</B> Deve-se sempre antes de iniciar o teste de BERT enviar um padrão de alinhamento para o GTP a ser testado<br>
                e após isso o BERT está pronto para ser analisado.
</P>
<A NAME="GTP_CNTHI_ERR"></A>
<H4>2.4.8.7. GTP_CNTHI_ERR - Multi Gigabit Transceiver Counter BERT Error High (0x3A)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">BERT_ERROR</TD>
<TD>Erro de BERT lachado</TD>
</TR>
<TR>
<TD ALIGN="center">6..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="right">GTP_ERR_CNTHI</TD>
<TD>Parte alta do contador de erro de BERT</TD>
</TR>
</TABLE>

<P></P>
<P>
<B>NOTA:</B> O MSB da parte alta do contador de erro de BERT possui o status de erro de BERT lacthado.
</P>
<A NAME="GTP_CNTHI_ERR"></A>
<H4>2.4.8.8. GTP_CNTLO_ERR - Multi Gigabit Transceiver Counter BERT Error High (0x3B)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="right">GTP_ERR_CNTLO</TD>
<TD>Parte baixa do contador de erro de BERT</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc15"></A>
<H3>2.4.9. GTP Register Access</H3>
<P>
The dynamic configuration port of the GTP DUALs are accessible to the microprocessor through registers <A HREF="#GTP_CFG_ADDR">GTP_CFG_ADDR</A>, <A HREF="#GTP_CFG_DATA_HI">GTP_CFG_DATA_HI</A>, 
<A HREF="#GTP_CFG_DATA_LO">GTP_CFG_DATA_LO</A>, <A HREF="#GTP_CFG_STS">GTP_CFG_STS</A> and <A HREF="#GTP_CFG_CTRL">GTP_CFG_CTRL</A>. Writing <A HREF="#GTP_CFG_CTRL">GTP_CFG_CTRL</A> causes the requested operation to be initiated. 
</P>
<P>
The read and write accesses to GTP DUAL registers must follow the following procedure:
</P>
 <OL>
 <LI>Write the GTP DUAL internal register address in <A HREF="#GTP_CFG_ADDR">GTP_CFG_ADDR</A>
 <LI>If the operation to be performed is a write, the data must be written to <A HREF="#GTP_CFG_DATA_HI">GTP_CFG_DATA_HI</A> and <A HREF="#GTP_CFG_DATA_LO">GTP_CFG_DATA_LO</A>
 <LI>Select the GTP DUAL and the operation via register <A HREF="#GTP_CFG_CTRL">GTP_CFG_CTRL</A>. Writing this register will cause the operation to be initiated
 <LI>Wait until busy indication goes low (register <A HREF="#GTP_CFG_STS">GTP_CFG_STS</A>)
 <LI>If read operation, read the data through registers <A HREF="#GTP_CFG_DATA_HI">GTP_CFG_DATA_HI</A> and <A HREF="#GTP_CFG_DATA_LO">GTP_CFG_DATA_LO</A>
 </OL>

<P></P>
<P>
<B>Important:</B> the configuration is applied for both transceivers in the tile.
</P>
<A NAME="GTP_CFG_CTRL"></A>
<H4>2.4.9.1. GTP_CFG_CTRL - GTP DUAL Configuration Control (0x30)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">OPERATION</TD>
<TD>This bit selects the operation: <br> 0 – Write <br> 1 – Read</TD>
</TR>
<TR>
<TD ALIGN="center">6..4</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">3..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">SELECTOR</TD>
<TD>Selects a GTP DUAL</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_CFG_ADDR"></A>
<H4>2.4.9.2. GTP_CFG_ADDR - GTP DUAL Configuration Address (0x31)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">ADDR</TD>
<TD>GTP internal register address</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_CFG_DATA_HI"></A>
<H4>2.4.9.3. GTP_CFG_DATA_HI - GTP DUAL Configuration Data High (0x32)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DATA_HI</TD>
<TD>GTP read/write data (higher byte)</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_CFG_DATA_LO"></A>
<H4>2.4.9.4. GTP_CFG_DATA_LO - GTP DUAL Configuration Data Low (0x33)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DATA_LO</TD>
<TD>GTP read/write data (lower byte)</TD>
</TR>
</TABLE>

<P></P>
<A NAME="GTP_CFG_STS"></A>
<H4>2.4.9.5. GTP_CFG_STS - GTP DUAL Configuration Status (0x34)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">BUSY</TD>
<TD>GTP DUAL configuration interface status: <br> 0 – Available <br> 1 – Busy</TD>
</TR>
<TR>
<TD ALIGN="center">6..0</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc16"></A>
<H3>2.4.10. Software Reset</H3>
<A NAME="SW_RST"></A>
<H4>2.4.10.1. SW_RST - Software Reset (0x3F)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">GLOBAL_RST</TD>
<TD>Reset de toda a lógica: <br> 0 - Desabilitado <br> 1 - Habilitado</TD>
</TR>
<TR>
<TD ALIGN="center">6</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">MBZ_RST</TD>
<TD>Reset do MicroBlaze: <br> 0 - Desabilitado <br> 1 - Habilitado</TD>
</TR>
<TR>
<TD ALIGN="center">5..0</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use.</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc17"></A>
<H3>2.4.11. VCXO Control</H3>
<A NAME="VCXO_SEL"></A>
<H4>2.4.11.1. VCXO_SEL - VCXO control selection (0x40)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD>7..2</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD>1..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">VCXO_PTR</TD>
<TD>Pointer that indicates the VCXO to be configured</TD>
</TR>
</TABLE>

<P></P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>VCXO</TH>
<TH>Number</TH>
</TR>
<TR>
<TD ALIGN="center">PHY1</TD>
<TD ALIGN="center">0</TD>
</TR>
<TR>
<TD ALIGN="center">PHY2</TD>
<TD ALIGN="center">1</TD>
</TR>
<TR>
<TD ALIGN="right">ICBUS</TD>
<TD ALIGN="center">2</TD>
</TR>
</TABLE>

<P></P>
<A NAME="VCXO_CFG"></A>
<H4>2.4.11.2. VCXO_CFG - VCXO control configuration (0x41)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD>7..1</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD>0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">VCXO_MODE</TD>
<TD>Select VCXO mode: <br> 0 - Normal <br> 1 - Freerun</TD>
</TR>
</TABLE>

<P></P>
<A NAME="VCXO_STS"></A>
<H4>2.4.11.3. VCXO_STS - VCXO control status (0x42)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD>7..1</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD>0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">REFB_LOS</TD>
<TD>Recovered clock reference loss</TD>
</TR>
</TABLE>

<P></P>
<A NAME="VCXO_CALIB_DATA"></A>
<H4>2.4.11.4. VCXO_CALIB_HDATA/VCXO_CALIB_LDATA - Calibration Data of VCXO (0x43/0x44)</H4>
<P>
These register report the current DCM phase shift Tap.
</P>
<P>
<B>Offset 0x43:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD>7..6</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD>5..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="right">DATA[13..8]</TD>
<TD>Calibration data to be aplied to VCXO</TD>
</TR>
</TABLE>

<P></P>
<P>
<B>Offset 0x44:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD>7..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">DATA[7..0]</TD>
<TD>Calibration data to be aplied to VCXO</TD>
</TR>
</TABLE>

<P></P>
<A NAME="DAC_VAL_DATA"></A>
<H4>2.4.11.5. DAC_VAL_HDATA/DAC_VAL_LDATA - DAC Value of VCXO Control (0x45/0x46)</H4>
<P>
These register report the current DAC value of VCXO control.
</P>
<P>
<B>Offset 0x45:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD>7..6</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD>5..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="right">VALUE[13..8]</TD>
<TD>DAC value</TD>
</TR>
</TABLE>

<P></P>
<P>
<B>Offset 0x46:</B>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD>7..0</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">VALUE[7..0]</TD>
<TD>DAC value</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc18"></A>
<H3>2.4.12. Temperature Status</H3>
<A NAME="FPGA_TEMP_MSB"></A>
<H4>2.4.12.1. FPGA_TEMP_MSB (0x80)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TEMP_MSB</TD>
<TD>Temperatura FPGA byte mais significativo</TD>
</TR>
</TABLE>

<P></P>
<A NAME="FPGA_TEMP_LSB"></A>
<H4>2.4.12.2. FPGA_TEMP_LSB (0x81)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TEMP_LSB</TD>
<TD>Temperatura FPGA byte menos significativo</TD>
</TR>
</TABLE>

<P></P>
<A NAME="PHY_TEMP_MSB"></A>
<H4>2.4.12.3. PHY_TEMP_MSB (0x90)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TEMP_ERR</TD>
<TD>Indicação de erro na leitura do sensor: <br> 1 - Erro <br> 0 - Ok</TD>
</TR>
<TR>
<TD ALIGN="center">6..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TEMP_MSB</TD>
<TD>Temperatura PHY byte mais significativo</TD>
</TR>
</TABLE>

<P></P>
<A NAME="PHY_TEMP_LSB"></A>
<H4>2.4.12.4. PHY_TEMP_LSB (0x91)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..0</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">TEMP_LSB</TD>
<TD>Temperatura PHY byte menos significativo</TD>
</TR>
</TABLE>

<P></P>
<P>
O valor de todos os sensores de temperatura é representado em complemento de 2 e composto conforme descrição abaixo:
</P>
<P>
Temperatura = TEMP_MSB[6..0] &amp; TEMP_LSB
</P>
<P>
Temperatura[14..11] = Reserved for future use <br>
Temperatura[10..03] = Inteiro (bit 3 resolução = 1°C) <br>
Temperatura[02..00] = Decimal (resolução = 0.125°C) <br>
</P>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Temperatura (°C)</TH>
<TH>Valor binário</TH>
</TR>
<TR>
<TD ALIGN="center">+125</TD>
<TD ALIGN="center">0000 0011 1110 1000</TD>
</TR>
<TR>
<TD ALIGN="center">+25</TD>
<TD ALIGN="center">0000 0000 1100 1000</TD>
</TR>
<TR>
<TD ALIGN="center">+1</TD>
<TD ALIGN="center">0000 0000 0000 1000</TD>
</TR>
<TR>
<TD ALIGN="center">+0.125</TD>
<TD ALIGN="center">0000 0000 0000 0001</TD>
</TR>
<TR>
<TD ALIGN="center">0</TD>
<TD ALIGN="center">0000 0000 0000 0000</TD>
</TR>
<TR>
<TD ALIGN="center">-0.125</TD>
<TD ALIGN="center">0000 0111 1111 1111</TD>
</TR>
<TR>
<TD ALIGN="center">-1</TD>
<TD ALIGN="center">0000 0111 1111 1000</TD>
</TR>
<TR>
<TD ALIGN="center">-25</TD>
<TD ALIGN="center">0000 0111 0011 1000</TD>
</TR>
<TR>
<TD ALIGN="center">-55</TD>
<TD ALIGN="center">0000 0110 0100 1000</TD>
</TR>
</TABLE>

<P></P>
<A NAME="OTN_FRAMER"></A>
<H2>2.5. OTN Framer Register (Base = 0x0300)</H2>
<P>
OTN framer internal registers are described in <A HREF="otn_framer/otn_framer_ds.html">OTN Framer Datasheet</A>.
</P>
<A NAME="CLIENT"></A>
<H2>2.6. Client Interface Registers (Base = 0x0500)</H2>
<A NAME="toc21"></A>
<H3>2.6.1. Register Map</H3>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Offset</TH>
<TH>Register Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">0x00</TD>
<TD ALIGN="center"><A HREF="#CLIENT_OP_CFG">CLIENT_OP_CFG</A></TD>
<TD>Client Port Operational Configuration</TD>
</TR>
<TR>
<TD ALIGN="center">0x01</TD>
<TD ALIGN="center"><A HREF="#CLIENT_TEST_CFG">CLIENT_TEST_CFG</A></TD>
<TD>Client Port Test Configuration</TD>
</TR>
<TR>
<TD ALIGN="center">0x08</TD>
<TD ALIGN="center"><A HREF="#CLIENT_STS">CLIENT_STS</A></TD>
<TD>Client Port Status</TD>
</TR>
</TABLE>

<P></P>
<A NAME="toc22"></A>
<H3>2.6.2. Register Description</H3>
<A NAME="CLIENT_OP_CFG"></A>
<H4>2.6.2.1. CLIENT_OP_CFG - Client Port Operational Configuration (0x00)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>Type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="right">7..5</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">OP_EN</TD>
<TD>Port operation: <br> 0 – Disable <br> 1 – Enable</TD>
</TR>
<TR>
<TD ALIGN="right">1..0</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
</TABLE>

<P></P>
<A NAME="CLIENT_TEST_CFG"></A>
<H4>2.6.2.2. CLIENT_TEST_CFG – Client Port Test Configuration (0x01)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>Type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">7..5</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">4</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="right">LASER_MAN_RESTART</TD>
<TD>Laser manual restart</TD>
</TR>
<TR>
<TD ALIGN="center">3</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">LASER_FORCE_OFF</TD>
<TD>Laser force off: <br> 0 – Normal operation <br> 1 – Forced off</TD>
</TR>
<TR>
<TD ALIGN="center">2</TD>
<TD ALIGN="center">RW</TD>
<TD ALIGN="center">LASER_FORCE_ON</TD>
<TD>Laser force on: <br>  0 – Normal operation <br> 1 – Forced on</TD>
</TR>
<TR>
<TD ALIGN="center">1..0</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
</TABLE>

<P></P>
<A NAME="CLIENT_STS"></A>
<H4>2.6.2.3. CLIENT_STS – Client Port Status (0x08)</H4>
<TABLE CELLPADDING="4" BORDER="1">
<TR>
<TH>Bit</TH>
<TH>Type</TH>
<TH>Name</TH>
<TH>Description</TH>
</TR>
<TR>
<TD ALIGN="center">15</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">rLOS</TD>
<TD>Loss of signal</TD>
</TR>
<TR>
<TD ALIGN="center">14</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">rLOF</TD>
<TD>Loss of frame (only for SDH client)</TD>
</TR>
<TR>
<TD ALIGN="right">13..12</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
<TR>
<TD ALIGN="center">11</TD>
<TD ALIGN="center">RO</TD>
<TD ALIGN="center">LASER_OFF</TD>
<TD>Laser status: <br> 0 - On <br> 1 - Off</TD>
</TR>
<TR>
<TD ALIGN="center">10..0</TD>
<TD ALIGN="center">-</TD>
<TD ALIGN="center">-</TD>
<TD>Reserved for future use</TD>
</TR>
</TABLE>

<P></P>
<A NAME="EPLD"></A>
<H2>2.7. EPLD Registers (Base = 0xD000)</H2>
<P>
 (To be defined)
</P>
<A NAME="FACTORY_TEST"></A>
<H2>2.8. Factory Test Specific Registers (Base = 0x0F00)</H2>
<P>
 (To be defined)
</P>

<!-- html code generated by txt2tags 2.3 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags -\-outfile=x10giga_ds.html x10giga_ds.t2t -->
</BODY></HTML>
